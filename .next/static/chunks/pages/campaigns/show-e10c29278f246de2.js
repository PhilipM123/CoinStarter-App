(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8164:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return t(5507)}])},5507:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return k}});var n=t(7568),s=t(1438),a=t(2951),i=t(8029),o=t(460),u=t(655),c=t(5893),d=t(7294),l=t(2256),h=t(8005),m=t(967),p=t(3544),g=t(4148),Z=t(4111),f=t(4924),b=t(5424),v=t(416),j=t(8156),x=t(1508),C=t(6215),w=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){var e;(0,s.Z)(this,t),e=r.apply(this,arguments),(0,f.Z)((0,Z.Z)(e),"state",{value:"",errorMessage:"",loading:!1});var a=(0,Z.Z)(e);return(0,f.Z)((0,Z.Z)(e),"onSubmit",function(){var e=(0,n.Z)((function(e){var r,t,n,s;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:e.preventDefault(),a.setState({loading:!0}),r=a.props.address,t=(0,g.Z)(r),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,x.Z.eth.getAccounts()];case 2:return n=i.sent(),[4,t.methods.contribute().send({from:n[0],value:x.Z.utils.toWei(a.state.value,"ether")})];case 3:return i.sent(),C.Router.replaceRoute("/campaigns/".concat(a.props.address)),[3,5];case 4:return s=i.sent(),a.setState({errorMessage:s.message}),[3,5];case 5:return a.setState({loading:!1}),[2]}}))}));return function(r){return e.apply(this,arguments)}}()),e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Contribute to this campaign!"}),(0,c.jsxs)(b.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,c.jsxs)(b.Z.Field,{children:[(0,c.jsx)("label",{style:{color:"white"},children:"Contribution Amount"}),(0,c.jsx)(v.Z,{value:this.state.value,onChange:function(r){return e.setState({value:r.target.value})},label:"ether",labelPosition:"right"})]}),(0,c.jsx)(j.Z,{error:!0,header:"Error",content:this.state.errorMessage}),(0,c.jsx)(m.Z,{loading:this.state.loading,primary:!0,children:"Contribute!"})]})]})}}]),t}(d.Component),y=w,_=function(e){(0,i.Z)(t,e);var r=(0,o.Z)(t);function t(){return(0,s.Z)(this,t),r.apply(this,arguments)}return(0,a.Z)(t,[{key:"renderCards",value:function(){var e=this.props,r=e.minimumContribution,t=e.balance,n=e.requestsCount,s=e.approversCount,a=[{header:e.manager,description:"The manager created this campaign",meta:"Address of manager",style:{overflowWrap:"break-word"}},{header:x.Z.utils.fromWei(t,"ether"),description:"Total funds contributed to the campaign",meta:"Campaign Balance"},{header:x.Z.utils.fromWei(r),description:"Minimum contribution to fund this campaign in Ether",meta:"Minimum Contribution"},{header:n,description:"Number of requests created by campaign manager",meta:"Requests"},{header:s,description:"Number of contributers to this campaign",meta:"Approvers"}];return(0,c.jsx)(l.Z.Group,{items:a})}},{key:"render",value:function(){return(0,c.jsxs)(p.Z,{children:[(0,c.jsx)("h3",{children:"Campaign Details"}),(0,c.jsxs)(h.Z,{children:[(0,c.jsxs)(h.Z.Row,{children:[(0,c.jsx)(h.Z.Column,{width:10,children:this.renderCards()}),(0,c.jsx)(h.Z.Column,{width:6,children:(0,c.jsx)(y,{address:this.props.address})})]}),(0,c.jsx)(h.Z.Row,{children:(0,c.jsx)(h.Z.Column,{children:(0,c.jsx)(C.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,c.jsx)("a",{children:(0,c.jsxs)(m.Z,{class:"ui primary button",primary:!0,children:["View Requests",(0,c.jsx)("i",{"aria-hidden":"true",class:"right add circle icon"})]})})})})})]})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)((function(){var r,t;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return r=e.query.address,[4,(0,g.Z)(r).methods.getSummary().call()];case 1:return t=n.sent(),[2,{address:r,minimumContribution:t[0],balance:t[1],requestsCount:t[2],approversCount:t[3],manager:t[4]}]}}))}))()}}]),t}(d.Component),k=_}},function(e){e.O(0,[774,543,896,65,299,421,888,179],(function(){return r=8164,e(e.s=r);var r}));var r=e.O();_N_E=r}]);